{
  "stats": {
    "suites": 1,
    "tests": 1,
    "passes": 0,
    "pending": 0,
    "failures": 1,
    "start": "2023-01-20T03:58:20.817Z",
    "end": "2023-01-20T03:58:22.841Z",
    "duration": 2024,
    "testsRegistered": 1,
    "passPercent": 0,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "d4c6624f-c083-4454-bc4d-935a8a7492a3",
      "title": "",
      "fullFile": "C:\\selJsCode\\test\\test.js",
      "file": "\\test\\test.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "52740a9a-a9de-472b-8f7a-4ebb1afbadb8",
          "title": "TRB AUTOMATED - Test Started",
          "fullFile": "C:\\selJsCode\\test\\test.js",
          "file": "\\test\\test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "TRB AUTOMATED - Test Ran Successfully",
              "fullTitle": "TRB AUTOMATED - Test Started TRB AUTOMATED - Test Ran Successfully",
              "timedOut": true,
              "duration": 2017,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// launch the chrome browser and navigate to TRB\n    let driver = await new Builder().forBrowser('chrome').build();\n    await driver.get(URL);\n    //signing in using city credentials. \n    await driver.findElement(By.xpath(\"//button[normalize-space()='Sign in']\")).click();\n    \n    //needed use implicit wait in order to give DOM certain duration to load to find element\n    await driver.manage().setTimeouts( { implicit: 1000 } );\n    //await driver.findElement(By.xpath(\"//button[@id='AzureADPhilaExchange']\")).click();\n    await driver.findElement(By.xpath(\"//input[@id='signInName']\")).sendKeys(userName);\n    await driver.findElement(By.xpath(\"//input[@id='password']\")).sendKeys(userPass);\n    await driver.findElement(By.xpath(\"//button[@id='next']\")).click();\n \n    //after logging in - entering text or keywords\n    await driver.manage().setTimeouts( { implicit: 7000 } );  \n  \n    //making sure we are on the correct page:\n    \n   // var element = driver.wait(until.elementLocated(By.xpath(\"//label[contains(text(),'Search by petitioner name, SSN, EIN, business name')]\")), 10000);\n    //var elementText = element.getText();\n    //console.log(elementText);\n    //click on add new case\n    await driver.findElement(By.xpath(\"//span[normalize-space()='ADD NEW CASE']\")).click();\n \n//----------------------------------------------------------------------------------------------------   \n    //Click on individual or business\n    \n     switch(customerType){\n            case \"Individual\":\n              await driver.findElement(By.xpath(\"//label[normalize-space()='Individual']\")).click();\n              break;\n              case\"Business\":\n              await driver.findElement(By.xpath(\"//label[normalize-space()='Business']\")).click();\n            break;}\n  \n//----------------------------------------------------------------------------------------------------\n    \n    await driver.findElement(By.xpath(\"//div/select[1][@name='caseTypeId']\")).click();\n//----------------------------------------------------------------------------------------------------   \n      switch(caseType){\n        case\"Interest and penalty\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Interest and penalty')]\")).click();\n        break;\n        case\"Merit\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Merit')]\")).click();\n        break;\n        case\"Refund\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Refund')]\")).click();\n        break;\n      }\n  \n//----------------------------------------------------------------------------------------------------      \n    //await driver.findElement(By.xpath(\"//*[contains(text(),'Interest and penalty')]\")).click();\n//----------------------------------------------------------------------------------------------------\n    \n    switch(taxCategory){\n      case\"Refuse\":\n      await driver.findElement(By.xpath(\"//*[contains(text(),'Refuse')]\")).click();\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Refuse collection']\")).click()\n      break;\n      case\"Real estate\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Real estate']\")).click();\n      case\"Owner occupied\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Owner occupied']\")).click();\n      break;\n      case\"Water revenue\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Water revenue']\")).click();\n      break;\n      case\"Business tax\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Business tax']\")).click();\n      break;\n      case\"License and inspections\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Licenses and inspections']\")).click();\n      break;\n      case\"Water\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Water']\")).click();\n      break;\n      case\"Airport\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Airport']\")).click();\n      break;\n      case\"Parking\":\n      await driver.findElement(By.xpath(\"//select/option[normalize-space()='Parking']\")).click();\n      break;\n      }\n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n      switch(taxType)\n      {\n        case\"Realty transfer\":\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Realty transfer']\")).click();\n        break;\n  \n  \n        case\"Real estate\": \n        //sibiling xpath type***************************************************************\n        await driver.findElement(By.xpath(\"//select[@name='taxTypeId']/option[3]\")).click();\n        break;\n  \n        case\"Real estate lien\":\n        \n        await driver.findElement(By.xpath(\"//*[contains(text(),'Real estate lien')]\")).click();\n        break;\n      \n        case\"Senior citizen forgiveness\":\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Senior citizen forgiveness']\")).click();\n        break;\n  \n  \n        case\"Real estate LOOP program\": \n        //sibiling xpath type***************************************************************\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Real estate LOOP program']\")).click();\n        break;\n  \n        case\"Owner occupied payment\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Owner occupied payment']\")).click();\n        break;\n//----------------------------------------------------------------------------------------------------\n//----------------------------------WATER REVENUE-----------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n        case\"Shut off\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Shut off']\")).click();\n        break;\n      \n        case\"TAP\":\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='TAP']\")).click();\n        break;\n  \n  \n        case\"Water revenue\": \n        //sibiling xpath type***************************************************************\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Water revenue']\")).click();\n        break;\n  \n        case\"Occupancy dispute\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Occupancy dispute']\")).click();\n        break;\n      \n//----------------------------------------------------------------------------------------------------\n//--------------------------------------------BUSINESS--TAX-------------------------------------------\n//----------------------------------------------------------------------------------------------------\n        case\"Business income and receipts\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Business income and receipts']\")).click();\n        break;\n      \n        case\"Commercial Development\":\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Commercial Development']\")).click();\n        break;\n  \n  \n        case\"Outdoor advertisement tax\": \n        //sibiling xpath type***************************************************************\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Outdoor advertisement tax']\")).click();\n        break;\n  \n        case\"Amusement tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Amusement tax']\")).click();\n        break;\n        case\"Billboard tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Billboard tax']\")).click();\n        break;\n        case\"Corporate net income tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Corporate net income tax']\")).click();\n        break;\n        case\"Hospital tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Hospital tax']\")).click();\n        break;\n      \n        case\"Hotel room tax\":\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Hotel room tax']\")).click();\n        break;\n  \n  \n        case\"Outdoor advertisement tax\": \n        //sibiling xpath type***************************************************************\n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Outdoor advertisement tax']\")).click();\n        break;\n  \n        case\"Liquor sales tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Liquor sales tax']\")).click();\n        break;\n        case\"Parking lot tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Parking lot tax']\")).click();\n        break;\n        case\"Philly beverage tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Philly beverage tax']\")).click();\n        break;\n        \n        case\"Valet parking tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Valet parking tax']\")).click();\n        break;\n        \n        case\"Wage tax monthly\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Wage tax monthly']\")).click();\n        break;\n        \n        case\"Wage tax quarterly\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Wage tax quarterly']\")).click();\n        break;\n        \n        case\"Wage tax weekly\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Wage tax weekly']\")).click();\n        break;\n        \n        case\"Business tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Business tax']\")).click();\n        break;\n        \n        case\"Earnings tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Earnings tax']\")).click();\n        break;\n        \n        case\"Use and occupancy tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Use and occupancy tax']\")).click();\n        break;\n        \n        case\"School income tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='School income tax']\")).click();\n        break;\n        \n        case\"Use and Occupancy tax\":\n        \n        await driver.findElement(By.xpath(\"//select/option[normalize-space()='Use and Occupancy tax']\")).click();\n        break;\n      }\n        //----------------------------------------------------------------------------------------------------\n        //----------------------------------------------------------------------------------------------------\n    \n    await driver.findElement(By.xpath(\"*//button[normalize-space()='SAVE AND CONTINUE']\")).click();\n//----------------------------------------------------------------------------------------------------\n    //first name     \n    await driver.findElement(By.xpath(\"//input[@name='firstName']\")).sendKeys(firstName);\n    //lastname\n    await driver.findElement(By.xpath(\"//input[@name='lastName']\")).sendKeys(lastName);\n    //ssn\n    await driver.findElement(By.xpath(\"//input[@name='customerNumber']\")).sendKeys(ssn);\n//----------------------------------------------------------------------------------------------------\n      switch(customerType){\n      case\"Business\":\n      await driver.findElement(By.xpath(\"//input[@name='businessName']\")).sendKeys(businessName);\n      break;}\n   \n//----------------------------------------------------------------------------------------------------\n    //interpreter selection\n    await driver.findElement(By.xpath(\"//label[normalize-space()='Interpreter requested']\")).click();\n   \n    switch(InterpreterLang){\n      case \"Spanish\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Spanish')]\")).click();\n        break;\n        case\"English\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'English')]\")).click();\n        break;\n        case\"French\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'French')]\")).click();\n        break;\n    }\n//----------------------------------------------------------------------------------------------------\n      \n    switch(preferredCorrespondence){\n      case \"mail\":\n      //MAIL or EMAIL option\n      await driver.findElement(By.xpath(\"//label[normalize-space()='Mail']\")).click();\n      break;\n      case \"email\":\n      await driver.findElement(By.xpath(\"//label[normalize-space()='Email']\")).click();\n      await driver.findElement(By.xpath(\"//input[@name='emailAddress']\")).sendKeys(emailAdd);\n      break;\n      }\n    \n    //mailing address\n    await driver.findElement(By.xpath(\"//input[@name='streetAddress1']\")).sendKeys(mailingAddress);\n    //city\n    await driver.findElement(By.xpath(\"//input[@name='city']\")).sendKeys(city);\n    \n//state\n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n   \n  switch(stateName){\n  case \"Pennsylvania\":\n    await driver.findElement(By.xpath(\"//option[@value='PA']\")).click();\n    break;\n    case\"New York\":\n    await driver.findElement(By.xpath(\"//option[@value='NY']\")).click();\n    break;\n    case\"New Jersey\":\n    await driver.findElement(By.xpath(\"//option[@value='NJ']\")).click();\n    break;\n}\n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n  \n    await driver.findElement(By.xpath(\"//input[@name='zipCode']\")).sendKeys(ZipCode);\n    //petetion description\n    await driver.findElement(By.xpath(\"//input[@name='effectiveDate']\")).sendKeys(effectiveDate);\n    //----------------------------------------------------------------------------------------------------\n    switch(departmentName){\n      case \"Licenses and inspections\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Licenses and Inspections')]\")).click();\n        break;\n        case\"Revenue\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Revenue')][1]\")).click();\n        break;\n        case\"Airport\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Airport')]\")).click();\n        break;\n        case\"PPA\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Philadelphia Parking Authority')]\")).click();\n        break;\n        case\"PWD\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Philadelphia Water Department')]\")).click();\n        break;\n        case\"Water Revenue Bureau\":\n        await driver.findElement(By.xpath(\"//*[contains(text(),'Water Revenue Bureau')]\")).click();\n        break;\n        }\n  //----------------------------------------------------------------------------------------------------\n    await driver.findElement(By.xpath(\"//input[@name='accountNumber']\")).sendKeys(accNumber);\n    await driver.findElement(By.xpath(\"//input[@id='tb-property-search']\")).sendKeys(mailingAddress);\n    await driver.findElement(By.xpath(\"//button[@name='verify']\")).click();\n      //veryfying address:\n    await driver.findElement(By.xpath(\"//button[normalize-space()='USE THIS ADDRESS']\")).click();\n    \n    await driver.findElement(By.xpath(\"//input[@name='initialBillDate']\")).sendKeys(initialBillDate,Key.RETURN);\n    await driver.findElement(By.xpath(\"//button[@class='button is-secondary has-icon add-disputeperiod']\")).click();\n    await driver.findElement(By.xpath(\"//input[@name='disputedPeriodStart']\")).sendKeys(disputedPeriodStart);\n    await driver.findElement(By.xpath(\"//input[@name='disputedPeriodEnd']\")).sendKeys(disputedPeriodEnd);\n    \n    await driver.findElement(By.xpath(\"//input[@name='principal']\")).sendKeys(Key.BACK_SPACE);\n    await driver.findElement(By.xpath(\"//input[@name='principal']\")).sendKeys(principalamt);\n    await driver.findElement(By.xpath(\"//input[@name='interest']\")).sendKeys(Key.BACK_SPACE);\n    await driver.findElement(By.xpath(\"//input[@name='interest']\")).sendKeys(interestamt);\n    await driver.findElement(By.xpath(\"//input[@name='penalty']\")).sendKeys(Key.BACK_SPACE);\n    await driver.findElement(By.xpath(\"//input[@name='penalty']\")).sendKeys(penaltyamt);\n    console.log(principalamt+interestamt+penaltyamt);\n                          driver.sleep(10000);\n    const element = driver.findElement(By.xpath(\"//div/p[@class='mt-4 is-size-2']\"));\n    const elementText = element.getText();\n    console.log(\"amount: \"+elementText);\n    if (elementText === principalamt+interestamt+penaltyamt) {\n      console.log('correct amount');\n    } else {\n      console.log('wrong');\n    }\n    var sumOfamt \n    sumOfamt = principalamt+interestamt+penaltyamt\n    try {\n      assert.deepEqual({elementText}, {sumOfamt});\n      console.log(\"ALL GOOD\")\n    }catch(error){\n      console.log(\"error\")\n    }\n    \n    \n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n    if (principalamt+interestamt+penaltyamt >= 50000){\n      await driver.findElement(By.xpath(\"//label[normalize-space()='Board']\")).click();}\n      else{\n        await driver.findElement(By.xpath(\"//div[normalize-space()='Department']\")).click();\n      }\n//----------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------\n    \n    await driver.findElement(By.xpath(\"//textarea[@name='caseDescription']\")).sendKeys(caseDescription);\n    await driver.findElement(By.xpath(\"//button[normalize-space()='SAVE AND CONTINUE']\")).click();\n    //fileuploading \n    await driver.findElement(By.xpath(\"//input[@name='inputPaperPetitionFile']\")).sendKeys(__dirname+\"\\\\testfile.docx\");\n    await driver.findElement(By.xpath(\"//input[@name='inputBillFile']\")).sendKeys(__dirname+\"\\\\testfile.docx\");\n    await driver.findElement(By.xpath(\"//button[normalize-space()='SAVE AND CONTINUE']\")).click();\n    //Clicking on My options \n    await driver.findElement(By.xpath(\"*//input[@name='petitionNotetitle']\")).sendKeys(commentTest);\n     \n    await driver.findElement(By.xpath(\"*//textarea[@name='petitionNotetext']\")).sendKeys(commentTest);\n    //case decision action\n    switch(caseDecision){\n        case \"Approve_Case\":\n        await driver.findElement(By.xpath(\"*//option[normalize-space()='Approve case']\")).click();\n        break;\n        case\"Deny_Case\":\n        await driver.findElement(By.xpath(\"*//option[normalize-space()='Deny case']\")).click();\n        break;\n        case\"Save_as_Incomplete\":\n        await driver.findElement(By.xpath(\"*//option[normalize-space()='Save as incomplete']\")).click();\n        break;\n        case\"Save_as_nunc_pro_tunc\":\n        await driver.findElement(By.xpath(\"*//option[normalize-space()='Save as nunc pro tunc']\")).click();\n        break;\n    }\n    //Clicking on submit should create a new petition:\n    //await driver.findElement(By.xpath(\"//button[normalize-space()='SUBMIT']\")).click();\n    \n    //----------------------------------------------------------------------------------------------------\n    //----------------------------------------------------------------------------------------------------\n    //Case History tab\n   /* await driver.manage().setTimeouts( { implicit: 10000 } );\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Case history']\")).click();\n    //Documents tab\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Documents']\")).click();\n    //Case contact tab\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Case contact']\")).click();\n    //Case notes tab\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Case notes']\")).click();\n    //Correspondence tab\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Correspondence']\")).click();\n    //Case details tab\n    await driver.findElement(By.xpath(\"//a[normalize-space()='Case details']\")).click();\n    */\n    \n   //then Logout + closing the browser ending automation\n   //await driver.findElement(By.xpath(\"//button[@class='navbar-link']\")).click();\n   //await driver.findElement(By.xpath(\"//a[normalize-space()='Logout']\")).click();\n   \n    driver.findElement(By.xpath(\"//button[normalize-space()='CANCEL']\")).click();\n    await driver.quit();",
              "err": {
                "message": "Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves. (C:\\selJsCode\\test\\test.js)",
                "estack": "Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves. (C:\\selJsCode\\test\\test.js)\n    at listOnTimeout (node:internal/timers:564:17)\n    at process.processTimers (node:internal/timers:507:7)",
                "diff": null
              },
              "uuid": "56499b5b-f27c-41a5-9d40-4e9a0d5f183b",
              "parentUUID": "52740a9a-a9de-472b-8f7a-4ebb1afbadb8",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [
            "56499b5b-f27c-41a5-9d40-4e9a0d5f183b"
          ],
          "pending": [],
          "skipped": [],
          "duration": 2017,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "10.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": null,
      "version": "6.2.0"
    }
  }
}